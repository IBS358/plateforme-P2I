<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurateur Industriel | P2I</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== VARIABLES & BASE ===== */
        :root {
            --primary: #4cc9f0;
            --secondary: #f72585;
            --dark-bg: #0d1b2a;
            --card-bg: rgba(255, 255, 255, 0.05);
            --glow: 0 0 20px rgba(76, 201, 240, 0.6);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        body { 
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 100%); 
            color: white; 
            line-height: 1.6; 
            min-height: 100vh;
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* ===== HEADER (SYNCHRONISÉ) ===== */
        header { 
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000; 
            background: rgba(13, 27, 42, 0.95); backdrop-filter: blur(10px); 
            border-bottom: 1px solid rgba(76, 201, 240, 0.1); padding: 15px 0; 
        }
        .nav-container { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 15px; text-decoration: none; }
        .logo-icon { width: 45px; height: 45px; position: relative; }
        .gear { position: absolute; width: 100%; height: 100%; border-radius: 50%; border: 2px solid var(--primary); }
        .gear-large { animation: rotate 20s linear infinite; }
        .gear-medium { width: 70%; height: 70%; top: 15%; left: 15%; animation: rotate 15s linear infinite reverse; }
        .gear-small { width: 40%; height: 40%; top: 30%; left: 30%; animation: rotate 10s linear infinite; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .logo-text { font-size: 1.6rem; font-weight: 700; background: linear-gradient(to right, #4cc9f0, #f72585); -webkit-background-clip: text; color: transparent; }

        /* ===== STEPPER (BARRE DE PROGRESSION) ===== */
        .stepper { margin-top: 130px; display: flex; justify-content: space-between; margin-bottom: 50px; position: relative; }
        .stepper::before { content: ''; position: absolute; top: 20px; left: 0; width: 100%; height: 2px; background: rgba(255,255,255,0.1); z-index: 1; }
        .step-item { position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; width: 20%; }
        .step-dot { 
            width: 40px; height: 40px; border-radius: 50%; background: #1b263b; border: 2px solid rgba(255,255,255,0.2); 
            display: flex; align-items: center; justify-content: center; font-weight: bold; transition: 0.4s; 
        }
        .step-item.active .step-dot { border-color: var(--primary); background: var(--primary); color: var(--dark-bg); box-shadow: var(--glow); }
        .step-item.completed .step-dot { border-color: var(--secondary); background: var(--secondary); }
        .step-label { font-size: 0.75rem; text-transform: uppercase; margin-top: 10px; color: #b8c1ec; text-align: center; }

        /* ===== SECTIONS DE CONTENU ===== */
        .step-content { display: none; animation: fadeIn 0.5s ease forwards; }
        .step-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

        h2 { text-align: center; margin-bottom: 40px; font-size: 2.2rem; background: linear-gradient(to right, #fff, var(--primary)); -webkit-background-clip: text; color: transparent; }

        /* GRILLES DE CARTES */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding-bottom: 40px; }
        .card { 
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 30px; 
            cursor: pointer; transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); text-align: center;
        }
        .card:hover { transform: translateY(-8px); border-color: var(--primary); background: rgba(255,255,255,0.08); }
        
        /* EFFET LUMINEUX (CHOIX SÉLECTIONNÉ) */
        .card.selected { 
            border-color: var(--primary); 
            background: rgba(76, 201, 240, 0.15);
            box-shadow: 0 0 30px rgba(76, 201, 240, 0.4), inset 0 0 15px rgba(76, 201, 240, 0.1);
            transform: scale(1.03);
        }
        .card.selected i { 
            color: #fff; text-shadow: 0 0 15px var(--primary);
        }

        .card i { font-size: 2.5rem; color: var(--primary); margin-bottom: 20px; transition: 0.3s; }
        .card h3 { margin-bottom: 10px; font-size: 1.2rem; }
        .card p { color: #b8c1ec; font-size: 0.9rem; }
        .capex-tag { 
            display: inline-block; margin-top: 15px; padding: 5px 15px; background: rgba(76, 201, 240, 0.1); 
            border-radius: 50px; color: var(--primary); font-weight: bold; border: 1px solid rgba(76,201,240,0.3);
        }

        /* FORMULAIRES */
        .form-box { max-width: 600px; margin: 0 auto; background: var(--card-bg); padding: 40px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
        label { display: block; margin-bottom: 15px; color: #b8c1ec; font-weight: 500; }
        select, input { 
            width: 100%; padding: 15px; border-radius: 12px; background: rgba(0,0,0,0.3); 
            border: 1px solid rgba(255,255,255,0.2); color: white; font-size: 1.1rem; outline: none; transition: 0.3s;
        }
        select:focus, input:focus { border-color: var(--primary); box-shadow: 0 0 10px rgba(76, 201, 240, 0.3); }

        /* RÉCAPITULATIF */
        .recap-card { background: var(--card-bg); border-radius: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); }
        .recap-row { display: flex; justify-content: space-between; padding: 20px 30px; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .recap-label { color: #b8c1ec; }
        .recap-value { color: var(--primary); font-weight: bold; font-size: 1.1rem; }

        /* BOUTONS NAV */
        .btns-group { display: flex; justify-content: center; gap: 20px; margin: 60px 0; }
        .btn { 
            padding: 18px 45px; border-radius: 50px; border: none; font-weight: 700; cursor: pointer; 
            text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; 
        }
        .btn-back { background: rgba(255,255,255,0.1); color: white; }
        .btn-next { background: linear-gradient(to right, #4cc9f0, #4361ee); color: white; box-shadow: 0 10px 20px rgba(67, 97, 238, 0.3); }
        .btn-confirm { background: linear-gradient(to right, #f72585, #b5179e); color: white; box-shadow: 0 10px 20px rgba(247, 37, 133, 0.3); }
        .btn:hover:not(:disabled) { transform: translateY(-3px); filter: brightness(1.2); }
        .btn:disabled { opacity: 0.3; cursor: not-allowed; }

        footer { background: rgba(0,0,0,0.3); padding: 50px 0; border-top: 1px solid rgba(255,255,255,0.05); text-align: center; color: #b8c1ec; margin-top: 80px; }
    </style>
</head>
<body>

    <header>
        <div class="container nav-container">
            <a href="index.html" class="logo">
                <div class="logo-icon">
                    <div class="gear gear-large"></div>
                    <div class="gear gear-medium"></div>
                    <div class="gear gear-small"></div>
                </div>
                <div class="logo-text">P2I</div>
            </a>
            <nav>
                <a href="apropos.html" style="color:#b8c1ec; text-decoration:none; font-weight:500;">À Propos</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="stepper">
            <div class="step-item active" id="s1"><div class="step-dot">1</div><div class="step-label">Filière</div></div>
            <div class="step-item" id="s2"><div class="step-dot">2</div><div class="step-label">Unité</div></div>
            <div class="step-item" id="s3"><div class="step-dot">3</div><div class="step-label">Lieu</div></div>
            <div class="step-item" id="s4"><div class="step-dot">4</div><div class="step-label">Investissement</div></div>
            <div class="step-item" id="s5"><div class="step-dot">5</div><div class="step-label">Récapitulatif</div></div>
        </div>

        <div id="step1" class="step-content active">
            <h2>Quelle filière visez-vous ?</h2>
            <div class="grid">
                <div class="card" onclick="selectFiliere('Agro-alimentaire & Boissons', 'agro')">
                    <i class="fas fa-seedling"></i>
                    <h3>Agro-alimentaire</h3>
                    <p>Cacao, Anacarde, Boulangerie et Jus de fruits.</p>
                </div>
                <div class="card" onclick="selectFiliere('Chimie & Cosmétiques', 'chimie')">
                    <i class="fas fa-flask"></i>
                    <h3>Chimie & Cosmétiques</h3>
                    <p>Savonnerie, Détergents et Soins corporels.</p>
                </div>
                </div>
        </div>

        <div id="step2" class="step-content">
            <h2>Choisissez votre unité de production</h2>
            <div class="grid" id="unite-grid">
                </div>
        </div>

        <div id="step3" class="step-content">
            <h2>Où souhaitez-vous produire ?</h2>
            <div class="form-box">
                <label>Zone d'implantation stratégique</label>
                <select id="input-location" onchange="checkStepValid()">
                    <option value="">-- Choisissez une ville/zone --</option>
                    <option value="Abidjan - Z.I Yopougon">Abidjan - Z.I Yopougon</option>
                    <option value="Abidjan - PK24 (Akoupé-Zeudji)">Abidjan - PK24 (Akoupé-Zeudji)</option>
                    <option value="San Pedro - Zone Portuaire">San Pedro - Zone Portuaire</option>
                    <option value="Bouaké">Bouaké</option>
                    <option value="Yamoussoukro">Yamoussoukro</option>
                </select>
            </div>
        </div>

        <div id="step4" class="step-content">
            <h2>Votre investissement</h2>
            <div class="form-box">
                <p id="min-capex-msg" style="color: var(--secondary); margin-bottom: 20px; font-weight: bold; text-align: center;"></p>
                <label>Montant prévu (en Millions FCFA)</label>
                <input type="number" id="input-budget" placeholder="Ex: 500" oninput="checkStepValid()">
            </div>
        </div>

        <div id="step5" class="step-content">
            <h2>Résumé de votre projet</h2>
            <div class="recap-card">
                <div class="recap-row"><span class="recap-label">Filière</span><span class="recap-value" id="res-filiere"></span></div>
                <div class="recap-row"><span class="recap-label">Unité choisie</span><span class="recap-value" id="res-unite"></span></div>
                <div class="recap-row"><span class="recap-label">Localisation</span><span class="recap-value" id="res-lieu"></span></div>
                <div class="recap-row"><span class="recap-label">Investissement</span><span class="recap-value" id="res-budget"></span></div>
            </div>
        </div>

        <div class="btns-group">
            <button class="btn btn-back" id="btn-back" onclick="changeStep(-1)" style="display:none;">Retour</button>
            <button class="btn btn-next" id="btn-next" onclick="changeStep(1)" disabled>Suivant</button>
            <button class="btn btn-confirm" id="btn-finish" onclick="alert('Business Case en cours de génération...')" style="display:none;">Confirmer le projet</button>
        </div>
    </div>

    <footer>
        <p>&copy; 2025 Plateforme Industrielle Ivoirienne. Tous droits réservés.</p>
    </footer>

    <script>
        // DONNEES DES UNITES
        const data = {
            'agro': [
                { name: "Transformation de Cacao", capex: 850, icon: "fa-box" },
                { name: "Boulangerie Industrielle", capex: 250, icon: "fa-bread-slice" },
                { name: "Biscuiterie Industrielle", capex: 300, icon: "fa-cookie" },
                { name: "Jus de Fruits & Concentrés", capex: 180, icon: "fa-blender" },
                { name: "Transformation Anacarde", capex: 400, icon: "fa-seedling" },
                { name: "Raffinerie d'Huile", capex: 1200, icon: "fa-oil-can" },
                { name: "Minoterie Industrielle", capex: 550, icon: "fa-wheat-awn" },
                { name: "Eau & Boissons", capex: 200, icon: "fa-bottle-water" }
            ],
            'chimie': [
                { name: "Savonnerie Industrielle", capex: 150, icon: "fa-soap" },
                { name: "Cosmétiques & Karité", capex: 120, icon: "fa-sparkles" },
                { name: "Peintures & Vernis", capex: 250, icon: "fa-paint-roller" }
                // etc...
            ]
        };

        let state = { step: 1, filiere: '', filiereID: '', unite: '', capex: 0, lieu: '', budget: 0 };

        function selectFiliere(name, id) {
            state.filiere = name; state.filiereID = id;
            document.querySelectorAll('#step1 .card').forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            
            // Build Units Grid
            const grid = document.getElementById('unite-grid');
            grid.innerHTML = '';
            data[id].forEach(u => {
                grid.innerHTML += `
                    <div class="card" onclick="selectUnite('${u.name}', ${u.capex})">
                        <i class="fas ${u.icon}"></i>
                        <h3>${u.name}</h3>
                        <div class="capex-tag">Min: ${u.capex}M FCFA</div>
                    </div>`;
            });
            checkStepValid();
        }

        function selectUnite(name, capex) {
            state.unite = name; state.capex = capex;
            document.querySelectorAll('#unite-grid .card').forEach(c => c.classList.remove('selected'));
            event.currentTarget.classList.add('selected');
            checkStepValid();
        }

        function checkStepValid() {
            let isValid = false;
            if(state.step === 1 && state.filiere) isValid = true;
            if(state.step === 2 && state.unite) isValid = true;
            if(state.step === 3 && document.getElementById('input-location').value) isValid = true;
            if(state.step === 4) {
                const b = parseFloat(document.getElementById('input-budget').value);
                if(b >= state.capex) isValid = true;
            }
            document.getElementById('btn-next').disabled = !isValid;
        }

        function changeStep(dir) {
            state.step += dir;
            updateUI();
        }

        function updateUI() {
            document.querySelectorAll('.step-content').forEach((c, i) => c.classList.toggle('active', i+1 === state.step));
            document.querySelectorAll('.step-item').forEach((s, i) => {
                s.classList.toggle('active', i+1 === state.step);
                s.classList.toggle('completed', i+1 < state.step);
            });

            document.getElementById('btn-back').style.display = state.step > 1 ? 'block' : 'none';
            document.getElementById('btn-next').style.display = state.step < 5 ? 'block' : 'none';
            document.getElementById('btn-finish').style.display = state.step === 5 ? 'block' : 'none';

            if(state.step === 4) document.getElementById('min-capex-msg').innerText = `Note: Le CAPEX minimum pour cette unité est de ${state.capex}M FCFA`;
            if(state.step === 5) {
                state.lieu = document.getElementById('input-location').value;
                state.budget = document.getElementById('input-budget').value;
                document.getElementById('res-filiere').innerText = state.filiere;
                document.getElementById('res-unite').innerText = state.unite;
                document.getElementById('res-lieu').innerText = state.lieu;
                document.getElementById('res-budget').innerText = state.budget + " Millions FCFA";
            }
            checkStepValid();
        }
    </script>
</body>
</html>
